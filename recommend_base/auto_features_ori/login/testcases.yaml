feature_id: login
testcases:
- id: TC_LOGIN_001
  name: 정상 로그인
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: Pass@word1
  expected:
    http_status: 200
    body:
      has_fields:
      - accessToken
      - userId
- id: TC_LOGIN_002
  name: 잘못된 비밀번호
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: WrongPass!1
  expected:
    http_status: 401
    body:
      errorCode: LOGIN_FAILED
- id: TC_LOGIN_003
  name: 비밀번호 형식 오류
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: short
  expected:
    http_status: 400
    body:
      errorCode: INVALID_PASSWORD_FORMAT
- id: TC_LOGIN_004
  name: 이메일 형식 오류
  request:
    method: POST
    path: /api/login_api
    body:
      email: invalid-email-format
      password: Pass@word1
  expected:
    http_status: 400
    body:
      errorCode: INVALID_EMAIL_FORMAT
- id: TC_LOGIN_005
  name: 이메일 누락
  request:
    method: POST
    path: /api/login_api
    body:
      password: Pass@word1
  expected:
    http_status: 400
    body:
      errorCode: MISSING_REQUIRED_FIELD
- id: TC_LOGIN_006
  name: 비밀번호 누락
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
  expected:
    http_status: 400
    body:
      errorCode: MISSING_REQUIRED_FIELD
- id: TC_LOGIN_007
  name: 존재하지 않는 이메일로 로그인 시도
  request:
    method: POST
    path: /api/login_api
    body:
      email: notfound@example.com
      password: Pass@word1
  expected:
    http_status: 401
    body:
      errorCode: LOGIN_FAILED
- id: TC_LOGIN_008
  name: 비밀번호 최소 길이 미만
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: P@1a
  expected:
    http_status: 400
    body:
      errorCode: INVALID_PASSWORD_FORMAT
- id: TC_LOGIN_009
  name: 비밀번호 패턴 미충족 (대문자 없음)
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: pass@word1
  expected:
    http_status: 400
    body:
      errorCode: INVALID_PASSWORD_FORMAT
- id: TC_LOGIN_010
  name: 비밀번호 패턴 미충족 (특수문자 없음)
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: Password1
  expected:
    http_status: 400
    body:
      errorCode: INVALID_PASSWORD_FORMAT
- id: TC_LOGIN_011
  name: 연속 로그인 실패 후 계정 잠금 시나리오 (5회 실패 가정)
  description: '5회 연속 로그인 실패 시 계정 잠금 처리 여부 확인.

    (비즈니스 룰에 lock_on_fail, max_fail_count 명시 없으나 보안상 권장 테스트)

    '
  steps:
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: WrongPass!1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: WrongPass!1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: WrongPass!1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: WrongPass!1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: WrongPass!1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
  - request:
      method: POST
      path: /api/login_api
      body:
        email: user1@example.com
        password: Pass@word1
    expected:
      http_status: 401
      body:
        errorCode: LOGIN_FAILED
- id: TC_LOGIN_012
  name: 대소문자 구분 확인 (이메일)
  request:
    method: POST
    path: /api/login_api
    body:
      email: User1@Example.com
      password: Pass@word1
  expected:
    http_status: 200
    body:
      has_fields:
      - accessToken
      - userId
- id: TC_LOGIN_013
  name: 대소문자 구분 확인 (비밀번호)
  request:
    method: POST
    path: /api/login_api
    body:
      email: user1@example.com
      password: pass@word1
  expected:
    http_status: 400
    body:
      errorCode: INVALID_PASSWORD_FORMAT
